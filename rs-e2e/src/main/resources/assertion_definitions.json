{
  "definitions": [
    {
      "name": "General requirements",
      "conditions": [],
      "rules": [
          "MSH-2 = input.MSH-2",
          "MSH-7 = input.MSH-7",
          "MSH-10 = input.MSH-10",
          "MSH-11 = input.MSH-11",
          "MSH-12 = input.MSH-12"
      ]
    },
    {
      "name": "UCSD ORU requirements",
      "conditions": [
        "MSH-9.2 = 'R01'",
        "MSH-6 in ('R797', 'R508')"
      ],
      "rules": [
        "MSH-4 = 'CDPH'",
        "MSH-5 = 'EPIC'",
        "MSH-9 = 'ORU^R01'",
        "PID-3.4 = ''",
        "PID-3.5 = ''",
        "PID-5.7 = ''",
        "OBR-4.1 = '54089-8'",
        "OBR-4.3 = 'CDPHGSPEAP'",
        "ORC-2.1 = input.ORC-4.1",
        "ORC-2.2 = input.ORC-4.2",
        "ORC-4.1 = input.ORC-2.1",
        "ORC-4.2 = input.ORC-2.2",
        "ORC-21.10 = MSH-6",
        "OBR-2.1 = ORC-2.1",
        "OBR-2.2 = ORC-2.2",
        "OBR-16 = input.ORC-12",
        "OBR.count() = 1"
      ]
    },
    {
      "name": "CDPH leading zeros",
      "conditions": [
        "MSH-10 = '004'"
      ],
      "rules": [
        "OBX-5 = '5.100'"
      ]
    },
    {
      "name": "CDPH no leading zeros",
      "conditions": [
        "MSH-10 = '005'"
      ],
      "rules": [
        "OBX-5 = '0.6500'"
      ]
    },
    {
      "name": "UCSD ORU LOINC replacement",
      "conditions": [
        "MSH-10 = '006'"
      ],
      "rules": [
        "OBX-3.1 = '85269-9'",
        "OBX-3.2 = 'X-linked Adrenoleukodystrophy (X- ALD) newborn screen interpretation'",
        "OBX-3.3 = 'LN'",
        "OBX-3.4 = input.OBX-3.4",
        "OBX-3.5 = input.OBX-3.5",
        "OBX-3.6 = input.OBX-3.6"
      ]
    },
    {
      "name": "UCSD ORU PLT replacement",
      "conditions": [
        "MSH-10 = '007'"
      ],
      "rules": [
        "OBX-3.1 = 'PLT3293'",
        "OBX-3.2 = 'SMN1 exon 7 deletion analysis in DBS by Sequencing'",
        "OBX-3.3 = 'PLT'",
        "OBX-3.4 = input.OBX-3.4",
        "OBX-3.5 = input.OBX-3.5",
        "OBX-3.6 = input.OBX-3.6"
      ]
    },
    {
      "name": "Micro (µ) character is encoded correctly",
      "conditions": [
        "MSH-10 = '008'"
      ],
      "rules": [
        "OBX-6 = 'µmol/L'"
      ]
    },
    {
      "name": "UCSD ORU remove OBX when OBX-3.4 is 99717-5",
      "conditions": [
        "MSH-10 = '009'"
      ],
      "rules": [
        "OBX.count() = 1"
      ]
    }
  ]
}
